import{G as _}from"./Graphly.953b4d39.js";import{_ as u,h as v,p as f,a2 as k,w as d,o as l,c as m,d as C,G as c,H as y}from"./framework.227b99ed.js";const w={class:"monacoEditor"},b={__name:"MonacoEditor",props:{editorLanguage:{type:String,default:"javascript"},editorContent:{type:String,default:""}},emits:["editorContentChange"],setup(i,{emit:s}){const e=i;let t=null;async function r(){t.editor.defineTheme("light",g),t.editor.defineTheme("dark",h),self.MonacoEnvironment={getWorkerUrl:function(L,a){return a==="json"?"/monacoeditorwork/json.worker.bundle.js":a==="css"?"/monacoeditorwork/css.worker.bundle.js":a==="html"?"/monacoeditorwork/html.worker.bundle.js":a==="typescript"||a==="javascript"?"/monacoeditorwork/ts.worker.bundle.js":"/monacoeditorwork/editor.worker.bundle.js"}};const o=t.editor.create(document.getElementsByClassName("monacoEditor")[0],{value:e.editorContent,language:e.editorLanguage,automaticLayout:!0,theme:n.value});o.onDidChangeModelContent(()=>{s("editorContentChange",o.getValue())}),new MutationObserver(()=>{n.value=document.getElementsByTagName("html")[0].classList.contains("dark")?"dark":"light",t.editor.setTheme(n.value)}).observe(document.getElementsByTagName("html")[0],{attributes:!0})}let n=v("dark");const g={base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#00000000","minimap.background":"#00000010"}},h={base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#00000000","minimap.background":"#00000010"}};return f(async()=>{n.value=document.getElementsByTagName("html")[0].classList.contains("dark")?"dark":"light",t?r():(t=await k(()=>import("./editor.main.986833d3.js").then(o=>o.e),["assets/chunks/editor.main.986833d3.js","assets/chunks/framework.227b99ed.js"]),setTimeout(async()=>{r()},100))}),d(()=>e.editorContent,o=>{t!=null&&editor.setValue(o)}),d(()=>e.editorLanguage,o=>{t!=null&&editor.setModel(t.editor.createModel(e.editorContent,o))}),(o,p)=>(l(),m("div",w))}},E=u(b,[["__scopeId","data-v-6306c994"]]),j=C({__name:"CodePreview",props:{height:{type:String,default:"75vh"},graph:{type:Object,default:()=>({nodes:[],links:[],hasUpdate:!1})},editorLanguage:{type:String,default:"javascript"},editorContent:{type:String,default:"function a(t) { console.log(t) }"}},emits:["editorContentChange"],setup(i,{emit:s}){const e=i;return(t,r)=>(l(),m("div",{class:"codePreview",style:y({height:e.height})},[c(_,{class:"graphly",graph:e.graph},null,8,["graph"]),c(E,{class:"monaco-editor","editor-language":e.editorLanguage,"editor-content":e.editorContent,onEditorContentChange:r[0]||(r[0]=n=>s("editorContentChange",n))},null,8,["editor-language","editor-content"])],4))}});const x=u(j,[["__scopeId","data-v-d8d9bd20"]]);export{x as C};
